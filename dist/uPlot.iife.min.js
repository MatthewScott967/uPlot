/*! https://github.com/leeoniya/uPlot (v1.6.19) */
var uPlot=function(){"use strict";function e(e,l,t,n){let i;t=t||0;let o=2147483647>=(n=n||l.length-1);for(;n-t>1;)i=o?t+n>>1:g((t+n)/2),e>l[i]?t=i:n=i;return e-l[t]>l[n]-e?n:t}function l(e,l,t,n){for(let i=1==n?l:t;i>=l&&t>=i;i+=n)if(null!=e[i])return i;return-1}const t=[0,0];function n(e,l,n,i){return t[0]=0>n?B(e,-n):e,t[1]=0>i?B(l,-i):l,t}function i(e,l,t,i){let o,s,r,u=v(e),a=10==t?y:M;return e==l&&(-1==u?(e*=t,l/=t):(e/=t,l*=t)),i?(o=g(a(e)),s=w(a(l)),r=n(k(t,o),k(t,s),o,s),e=r[0],l=r[1]):(o=g(a(m(e))),s=g(a(m(l))),r=n(k(t,o),k(t,s),o,s),e=H(e,r[0]),l=R(l,r[1])),[e,l]}function o(e,l,t,n){let o=i(e,l,t,n);return 0==e&&(o[0]=0),0==l&&(o[1]=0),o}const s={mode:3,pad:.1},r={pad:0,soft:null,mode:0},u={min:r,max:r};function a(e,l,t,n){return J(t)?f(e,l,t):(r.pad=t,r.soft=n?0:null,r.mode=n?3:0,f(e,l,u))}function c(e,l){return null==e?l:e}function f(e,l,t){let n=t.min,i=t.max,o=c(n.pad,0),s=c(i.pad,0),r=c(n.hard,-D),u=c(i.hard,D),a=c(n.soft,D),f=c(i.soft,-D),h=c(n.mode,0),d=c(i.mode,0),p=l-e;1e-9>p&&(p=0,0!=e&&0!=l||(p=1e-9,2==h&&a!=D&&(o=0),2==d&&f!=-D&&(s=0)));let x=p||m(l)||1e3,w=y(x),v=k(10,g(w)),M=B(H(e-x*(0==p?0==e?.1:1:o),v/10),9),S=a>e||1!=h&&(3!=h||M>a)&&(2!=h||a>M)?D:a,T=_(r,S>M&&e>=S?S:b(S,M)),E=B(R(l+x*(0==p?0==l?.1:1:s),v/10),9),z=l>f||1!=d&&(3!=d||f>E)&&(2!=d||E>f)?-D:f,A=b(u,E>z&&z>=l?z:_(z,E));return T==A&&0==T&&(A=100),[T,A]}const h=new Intl.NumberFormat(navigator.language).format,d=Math,p=d.PI,m=d.abs,g=d.floor,x=d.round,w=d.ceil,b=d.min,_=d.max,k=d.pow,v=d.sign,y=d.log10,M=d.log2,S=(e,l=1)=>d.asinh(e/l),D=1/0;function T(e){return 1+(0|y((e^e>>31)-(e>>31)))}function E(e,l){return x(e/l)*l}function z(e,l,t){return b(_(e,l),t)}function A(e){return"function"==typeof e?e:()=>e}const P=e=>e,W=(e,l)=>l,Y=()=>null,C=()=>!0,F=(e,l)=>e==l;function R(e,l){return w(e/l)*l}function H(e,l){return g(e/l)*l}function B(e,l){return x(e*(l=10**l))/l}const L=new Map;function I(e){return((""+e).split(".")[1]||"").length}function O(e,l,t,n){let i=[],o=n.map(I);for(let s=l;t>s;s++){let l=m(s),t=B(k(e,s),l);for(let e=0;n.length>e;e++){let r=n[e]*t,u=(0>r||0>s?l:0)+(o[e]>s?o[e]:0),a=B(r,u);i.push(a),L.set(a,u)}}return i}const G={},N=[],j=[null,null],V=Array.isArray;function U(e){return"string"==typeof e}function J(e){let l=!1;if(null!=e){let t=e.constructor;l=null==t||t==Object}return l}function q(e){return null!=e&&"object"==typeof e}function K(e,l=J){let t;if(V(e)){let n=e.find((e=>null!=e));if(V(n)||l(n)){t=Array(e.length);for(let n=0;e.length>n;n++)t[n]=K(e[n],l)}else t=e.slice()}else if(l(e)){t={};for(let n in e)t[n]=K(e[n],l)}else t=e;return t}function Z(e){let l=arguments;for(let t=1;l.length>t;t++){let n=l[t];for(let l in n)J(e[l])?Z(e[l],K(n[l])):e[l]=K(n[l])}return e}function $(e,l,t){for(let n,i=0,o=-1;l.length>i;i++){let s=l[i];if(s>o){for(n=s-1;n>=0&&null==e[n];)e[n--]=null;for(n=s+1;t>n&&null==e[n];)e[o=n++]=null}}}const X="undefined"==typeof queueMicrotask?e=>Promise.resolve().then(e):queueMicrotask,Q="width",ee="height",le="top",te="bottom",ne="left",ie="right",oe="#000",se="mousemove",re="mousedown",ue="mouseup",ae="mouseenter",ce="mouseleave",fe="dblclick",he="change",de="dppxchange",pe="u-off",me="u-label",ge=document,xe=window;let we,be;function _e(e,l){if(null!=l){let t=e.classList;!t.contains(l)&&t.add(l)}}function ke(e,l){let t=e.classList;t.contains(l)&&t.remove(l)}function ve(e,l,t){e.style[l]=t+"px"}function ye(e,l,t,n){let i=ge.createElement(e);return null!=l&&_e(i,l),null!=t&&t.insertBefore(i,n),i}function Me(e,l){return ye("div",e,l)}const Se=new WeakMap;function De(e,l,t,n,i){let o="translate("+l+"px,"+t+"px)";o!=Se.get(e)&&(e.style.transform=o,Se.set(e,o),0>l||0>t||l>n||t>i?_e(e,pe):ke(e,pe))}const Te=new WeakMap;function Ee(e,l,t){let n=l+t;n!=Te.get(e)&&(Te.set(e,n),e.style.background=l,e.style.borderColor=t)}const ze=new WeakMap;function Ae(e,l,t,n){let i=l+""+t;i!=ze.get(e)&&(ze.set(e,i),e.style.height=t+"px",e.style.width=l+"px",e.style.marginLeft=n?-l/2+"px":0,e.style.marginTop=n?-t/2+"px":0)}const Pe={passive:!0},We=Z({capture:!0},Pe);function Ye(e,l,t,n){l.addEventListener(e,t,n?We:Pe)}function Ce(e,l,t,n){l.removeEventListener(e,t,n?We:Pe)}!function e(){let l=devicePixelRatio;we!=l&&(we=l,be&&Ce(he,be,e),be=matchMedia(`(min-resolution: ${we-.001}dppx) and (max-resolution: ${we+.001}dppx)`),Ye(he,be,e),xe.dispatchEvent(new CustomEvent(de)))}();const Fe=["January","February","March","April","May","June","July","August","September","October","November","December"],Re=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function He(e){return e.slice(0,3)}const Be=Re.map(He),Le=Fe.map(He),Ie={MMMM:Fe,MMM:Le,WWWW:Re,WWW:Be};function Oe(e){return(10>e?"0":"")+e}const Ge={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>Oe(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Oe(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>Oe(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return 0==l?12:l>12?l-12:l},AA:e=>12>e.getHours()?"AM":"PM",aa:e=>12>e.getHours()?"am":"pm",a:e=>12>e.getHours()?"a":"p",mm:e=>Oe(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Oe(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>function(e){return(10>e?"00":100>e?"0":"")+e}(e.getMilliseconds())};function Ne(e,l){l=l||Ie;let t,n=[],i=/\{([a-z]+)\}|[^{]+/gi;for(;t=i.exec(e);)n.push("{"==t[0][0]?Ge[t[1]]:t[0]);return e=>{let t="";for(let i=0;n.length>i;i++)t+="string"==typeof n[i]?n[i]:n[i](e,l);return t}}const je=(new Intl.DateTimeFormat).resolvedOptions().timeZone,Ve=e=>e%1==0,Ue=[1,2,2.5,5],Je=O(10,-16,0,Ue),qe=O(10,0,16,Ue),Ke=qe.filter(Ve),Ze=Je.concat(qe),$e="{YYYY}",Xe="\n"+$e,Qe="{M}/{D}",el="\n"+Qe,ll=el+"/{YY}",tl="{aa}",nl="{h}:{mm}"+tl,il="\n"+nl,ol=":{ss}",sl=null;function rl(e){let l=1e3*e,t=60*l,n=60*t,i=24*n,o=30*i,s=365*i;return[(1==e?O(10,0,3,Ue).filter(Ve):O(10,-3,0,Ue)).concat([l,5*l,10*l,15*l,30*l,t,5*t,10*t,15*t,30*t,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,o,2*o,3*o,4*o,6*o,s,2*s,5*s,10*s,25*s,50*s,100*s]),[[s,$e,sl,sl,sl,sl,sl,sl,1],[28*i,"{MMM}",Xe,sl,sl,sl,sl,sl,1],[i,Qe,Xe,sl,sl,sl,sl,sl,1],[n,"{h}"+tl,ll,sl,el,sl,sl,sl,1],[t,nl,ll,sl,el,sl,sl,sl,1],[l,ol,ll+" "+nl,sl,el+" "+nl,sl,il,sl,1],[e,ol+".{fff}",ll+" "+nl,sl,el+" "+nl,sl,il,sl,1]],function(l){return(r,u,a,c,f,h)=>{let d=[],p=f>=s,m=f>=o&&s>f,w=l(a),b=B(w*e,3),_=gl(w.getFullYear(),p?0:w.getMonth(),m||p?1:w.getDate()),k=B(_*e,3);if(m||p){let t=m?f/o:0,n=p?f/s:0,i=b==k?b:B(gl(_.getFullYear()+n,_.getMonth()+t,1)*e,3),r=new Date(x(i/e)),u=r.getFullYear(),a=r.getMonth();for(let o=0;c>=i;o++){let s=gl(u+n*o,a+t*o,1),r=s-l(B(s*e,3));i=B((+s+r)*e,3),i>c||d.push(i)}}else{let o=i>f?f:i,s=k+(g(a)-g(b))+R(b-k,o);d.push(s);let p=l(s),m=p.getHours()+p.getMinutes()/t+p.getSeconds()/n,x=f/n,w=h/r.axes[u]._space;for(;s=B(s+f,1==e?0:3),c>=s;)if(x>1){let e=g(B(m+x,6))%24,t=l(s).getHours()-e;t>1&&(t=-1),s-=t*n,m=(m+x)%24,.7>B((s-d[d.length-1])/f,3)*w||d.push(s)}else d.push(s)}return d}}]}const[ul,al,cl]=rl(1),[fl,hl,dl]=rl(.001);function pl(e,l){return e.map((e=>e.map(((t,n)=>0==n||8==n||null==t?t:l(1==n||0==e[8]?t:e[1]+t)))))}function ml(e,l){return(t,n,i,o,s)=>{let r,u,a,c,f,h,d=l.find((e=>s>=e[0]))||l[l.length-1];return n.map((l=>{let t=e(l),n=t.getFullYear(),i=t.getMonth(),o=t.getDate(),s=t.getHours(),p=t.getMinutes(),m=t.getSeconds(),g=n!=r&&d[2]||i!=u&&d[3]||o!=a&&d[4]||s!=c&&d[5]||p!=f&&d[6]||m!=h&&d[7]||d[1];return r=n,u=i,a=o,c=s,f=p,h=m,g(t)}))}}function gl(e,l,t){return new Date(e,l,t)}function xl(e,l){return l(e)}function wl(e,l){return(t,n)=>l(e(n))}O(2,-53,53,[1]);const bl={show:!0,live:!0,isolate:!1,markers:{show:!0,width:2,stroke:function(e,l){let t=e.series[l];return t.width?t.stroke(e,l):t.points.width?t.points.stroke(e,l):null},fill:function(e,l){return e.series[l].fill(e,l)},dash:"solid"},idx:null,idxs:null,values:[]},_l=[0,0];function kl(e,l,t){return e=>{0==e.button&&t(e)}}function vl(e,l,t){return t}const yl={show:!0,x:!0,y:!0,lock:!1,move:function(e,l,t){return _l[0]=l,_l[1]=t,_l},points:{show:function(e,l){let t=e.cursor.points,n=Me(),i=t.size(e,l);ve(n,Q,i),ve(n,ee,i);let o=i/-2;ve(n,"marginLeft",o),ve(n,"marginTop",o);let s=t.width(e,l,i);return s&&ve(n,"borderWidth",s),n},size:function(e,l){return Nl(e.series[l].points.width,1)},width:0,stroke:function(e,l){let t=e.series[l].points;return t._stroke||t._fill},fill:function(e,l){let t=e.series[l].points;return t._fill||t._stroke}},bind:{mousedown:kl,mouseup:kl,click:kl,dblclick:kl,mousemove:vl,mouseleave:vl,mouseenter:vl},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,_x:!1,_y:!1},focus:{prox:-1},left:-10,top:-10,idx:null,dataIdx:function(e,l,t){return t},idxs:null},Ml={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},Sl=Z({},Ml,{filter:W}),Dl=Z({},Sl,{size:10}),Tl=Z({},Ml,{show:!1}),El='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',zl="bold "+El,Al={show:!0,scale:"x",stroke:oe,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:zl,side:2,grid:Sl,ticks:Dl,border:Tl,font:El,rotate:0},Pl={show:!0,scale:"x",auto:!1,sorted:1,min:D,max:-D,idxs:[]};function Wl(e,l){return l.map((e=>null==e?"":h(e)))}function Yl(e,l,t,n,i,o,s){let r=[],u=L.get(i)||0;for(let e=t=s?t:B(R(t,i),u);n>=e;e=B(e+i,u))r.push(Object.is(e,-0)?0:e);return r}function Cl(e,l,t,n,i){const o=[],s=e.scales[e.axes[l].scale].log,r=g((10==s?y:M)(t));i=k(s,r),0>r&&(i=B(i,-r));let u=t;do{o.push(u),u=B(u+i,L.get(i)),i*s>u||(i=u)}while(n>=u);return o}function Fl(e,l,t,n,i){let o=e.scales[e.axes[l].scale].asinh,s=n>o?Cl(e,l,_(o,t),n,i):[o],r=0>n||t>0?[]:[0];return(-o>t?Cl(e,l,_(o,-n),-t,i):[o]).reverse().map((e=>-e)).concat(r,s)}const Rl=/./,Hl=/[12357]/,Bl=/[125]/,Ll=/1/;function Il(e,l,t){let n=e.axes[t],i=n.scale,o=e.scales[i];if(3==o.distr&&2==o.log)return l;let s=e.valToPos,r=n._space,u=s(10,i),a=s(9,i)-u<r?s(7,i)-u<r?s(5,i)-u<r?Ll:Bl:Hl:Rl;return l.map((e=>4==o.distr&&0==e||a.test(e)?e:null))}function Ol(e,l){return null==l?"":h(l)}const Gl={show:!0,scale:"y",stroke:oe,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:zl,side:3,grid:Sl,ticks:Dl,border:Tl,font:El,rotate:0};function Nl(e,l){return B((3+2*(e||1))*l,3)}const jl={scale:null,auto:!0,sorted:0,min:D,max:-D},Vl={show:!0,auto:!0,sorted:0,alpha:1,facets:[Z({},jl,{scale:"x"}),Z({},jl,{scale:"y"})]},Ul={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:(e,l,t,n,i)=>i,alpha:1,points:{show:function(e,l){let{scale:t,idxs:n}=e.series[0],i=e._data[0],o=e.valToPos(i[n[0]],t,!0),s=e.valToPos(i[n[1]],t,!0);return m(s-o)/(e.series[l].points.space*we)>=n[1]-n[0]},filter:null},values:null,min:D,max:-D,idxs:[],path:null,clip:null};function Jl(e,l,t){return t/10}const ql={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Kl=Z({},ql,{time:!1,ori:1}),Zl={};function $l(e){let l=Zl[e];return l||(l={key:e,plots:[],sub(e){l.plots.push(e)},unsub(e){l.plots=l.plots.filter((l=>l!=e))},pub(e,t,n,i,o,s,r){for(let u=0;l.plots.length>u;u++)l.plots[u]!=t&&l.plots[u].pub(e,t,n,i,o,s,r)}},null!=e&&(Zl[e]=l)),l}function Xl(e,l,t){const n=e.series[l],i=e.scales,o=e.bbox;let s=e._data[0],r=e._data[l],u=2==e.mode?i[n.facets[0].scale]:i[e.series[0].scale],a=2==e.mode?i[n.facets[1].scale]:i[n.scale],c=o.left,f=o.top,h=o.width,d=o.height,p=e.valToPosH,m=e.valToPosV;return 0==u.ori?t(n,s,r,u,a,p,m,c,f,h,d,st,ut,ct,ht,pt):t(n,s,r,u,a,m,p,f,c,d,h,rt,at,ft,dt,mt)}function Ql(e,l){let t=0,n=0,i=c(e.bands,N);for(let e=0;i.length>e;e++){let o=i[e];o.series[0]==l?t=o.dir:o.series[1]==l&&(n|=1==o.dir?1:2)}return[t,1==n?-1:2==n?1:3==n?2:0]}function et(e,l,t,n,i){let o=e.scales[e.series[l].scale];return-1==i?o.min:1==i?o.max:3==o.distr?1==o.dir?o.min:o.max:0}function lt(e,l,t,n,i,o){return Xl(e,l,((e,l,s,r,u,a,c,f,h,d,p)=>{let m=e.pxRound;const g=0==r.ori?ut:at;let x,w;1==r.dir*(0==r.ori?1:-1)?(x=t,w=n):(x=n,w=t);let b=m(a(l[x],r,d,f)),_=m(c(s[x],u,p,h)),k=m(a(l[w],r,d,f)),v=m(c(1==o?u.max:u.min,u,p,h)),y=new Path2D(i);return g(y,k,v),g(y,b,v),g(y,b,_),y}))}function tt(e,l,t,n,i,o){let s=null;if(e.length>0){s=new Path2D;const r=0==l?ct:ft;let u=t;for(let l=0;e.length>l;l++){let t=e[l];if(t[1]>t[0]){let e=t[0]-u;e>0&&r(s,u,n,e,n+o),u=t[1]}}let a=t+i-u;a>0&&r(s,u,n,a,n+o)}return s}function nt(e,l,t){let n=e[e.length-1];n&&n[0]==l?n[1]=t:e.push([l,t])}function it(e){return 0==e?P:1==e?x:l=>E(l,e)}function ot(e){let l=0==e?st:rt,t=0==e?(e,l,t,n,i,o)=>{e.arcTo(l,t,n,i,o)}:(e,l,t,n,i,o)=>{e.arcTo(t,l,i,n,o)},n=0==e?(e,l,t,n,i)=>{e.rect(l,t,n,i)}:(e,l,t,n,i)=>{e.rect(t,l,i,n)};return(e,i,o,s,r,u=0)=>{0==u?n(e,i,o,s,r):(u=b(u,s/2,r/2),l(e,i+u,o),t(e,i+s,o,i+s,o+r,u),t(e,i+s,o+r,i,o+r,u),t(e,i,o+r,i,o,u),t(e,i,o,i+s,o,u),e.closePath())}}const st=(e,l,t)=>{e.moveTo(l,t)},rt=(e,l,t)=>{e.moveTo(t,l)},ut=(e,l,t)=>{e.lineTo(l,t)},at=(e,l,t)=>{e.lineTo(t,l)},ct=ot(0),ft=ot(1),ht=(e,l,t,n,i,o)=>{e.arc(l,t,n,i,o)},dt=(e,l,t,n,i,o)=>{e.arc(t,l,n,i,o)},pt=(e,l,t,n,i,o,s)=>{e.bezierCurveTo(l,t,n,i,o,s)},mt=(e,l,t,n,i,o,s)=>{e.bezierCurveTo(t,l,i,n,s,o)};function gt(){return(e,l,t,n,i)=>Xl(e,l,((l,o,s,r,u,a,c,f,h,d,m)=>{let g,x,{pxRound:w,points:b}=l;0==r.ori?(g=st,x=ht):(g=rt,x=dt);const _=B(b.width*we,3);let k=(b.size-b.width)/2*we,v=B(2*k,3),y=new Path2D,M=new Path2D,{left:S,top:D,width:T,height:E}=e.bbox;ct(M,S-v,D-v,T+2*v,E+2*v);const z=e=>{if(null!=s[e]){let l=w(a(o[e],r,d,f)),t=w(c(s[e],u,m,h));g(y,l+k,t),x(y,l,t,k,0,2*p)}};if(i)i.forEach(z);else for(let e=t;n>=e;e++)z(e);return{stroke:_>0?y:null,fill:y,clip:M,labels:null,flags:3}}))}function xt(e){return(l,t,n,i,o,s)=>{n!=i&&(o!=n&&s!=n&&e(l,t,n),o!=i&&s!=i&&e(l,t,i),e(l,t,s))}}const wt=xt(ut),bt=xt(at);function _t(){return(e,t,n,i)=>Xl(e,t,((o,s,r,u,a,c,f,h,d,p,m)=>{let g,x,w=o.pxRound;0==u.ori?(g=ut,x=wt):(g=at,x=bt);const k=u.dir*(0==u.ori?1:-1),v={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,labels:null,flags:1},y=v.stroke;let M,S,T,E,z=D,A=-D,P=[],W=w(c(s[1==k?n:i],u,p,h)),Y=!1,C=!1,F=l(r,n,i,1*k),R=l(r,n,i,-1*k),H=w(c(s[F],u,p,h)),B=w(c(s[R],u,p,h));H>h&&nt(P,h,H);for(let e=1==k?n:i;e>=n&&i>=e;e+=k){let l=w(c(s[e],u,p,h));if(l==W)null!=r[e]?(S=w(f(r[e],a,m,d)),z==D&&(g(y,l,S),M=S),z=b(S,z),A=_(S,A)):null===r[e]&&(Y=C=!0);else{let t=!1;z!=D?(x(y,W,z,A,M,S),T=E=W):Y&&(t=!0,Y=!1),null!=r[e]?(S=w(f(r[e],a,m,d)),g(y,l,S),z=A=M=S,C&&l-W>1&&(t=!0),C=!1):(z=D,A=-D,null===r[e]&&(Y=!0,l-W>1&&(t=!0))),t&&nt(P,T,l),W=l}}z!=D&&z!=A&&E!=W&&x(y,W,z,A,M,S),h+p>B&&nt(P,B,h+p);let[L,I]=Ql(e,t);if(null!=o.fill||0!=L){let l=v.fill=new Path2D(y),n=w(f(o.fillTo(e,t,o.min,o.max,L),a,m,d));g(l,B,n),g(l,H,n)}return v.gaps=P=o.gaps(e,t,n,i,P),o.spanGaps||(v.clip=tt(P,u.ori,h,d,p,m)),0!=I&&(v.band=2==I?[lt(e,t,n,i,y,-1),lt(e,t,n,i,y,1)]:lt(e,t,n,i,y,I)),v}))}function kt(e,l,t,n,i){const o=e.length;if(2>o)return null;const s=new Path2D;if(t(s,e[0],l[0]),2==o)n(s,e[1],l[1]);else{let t=Array(o),n=Array(o-1),r=Array(o-1),u=Array(o-1);for(let t=0;o-1>t;t++)r[t]=l[t+1]-l[t],u[t]=e[t+1]-e[t],n[t]=r[t]/u[t];t[0]=n[0];for(let e=1;o-1>e;e++)0===n[e]||0===n[e-1]||n[e-1]>0!=n[e]>0?t[e]=0:(t[e]=3*(u[e-1]+u[e])/((2*u[e]+u[e-1])/n[e-1]+(u[e]+2*u[e-1])/n[e]),isFinite(t[e])||(t[e]=0));t[o-1]=n[o-2];for(let n=0;o-1>n;n++)i(s,e[n]+u[n]/3,l[n]+t[n]*u[n]/3,e[n+1]-u[n]/3,l[n+1]-t[n+1]*u[n]/3,e[n+1],l[n+1])}return s}function vt(e){const l=c((e=e||G).showLabels,!0),t=c(e.labelsAlign,"top");return(e,n,i,o)=>Xl(e,n,((e,n,s,r,u,a,c,f,h,d,p)=>{let m=e.pxRound;const g={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,labels:[],flags:1},x=g.stroke;let w=h+p,b=h,_=b+6;"bottom"==t?_=w-6:"center"==t&&(_=(w-b)/2);for(let e=i;o>=e;e++){if(null==s[e])continue;let i=m(a(n[e],r,d,f));x.moveTo(i,w),x.lineTo(i,b),l&&g.labels.push({text:s[e],align:t,x:i,y:_})}return g.gaps=null,g.fill=null,g.clip=null,g.band=null,g}))}const yt=new Set;function Mt(){yt.forEach((e=>{e.syncRect(!0)}))}Ye("resize",xe,Mt),Ye("scroll",xe,Mt,!0);const St=_t(),Dt=vt(),Tt=gt();function Et(e,l,t,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map(((e,n)=>zt(e,n,l,t)))}function zt(e,l,t,n){return Z({},0==l?t:n,e)}function At(e,l,t){return null==l?j:[l,t]}const Pt=At;function Wt(e,l,t){return null==l?j:a(l,t,.1,!0)}function Yt(e,l,t,n){return null==l?j:i(l,t,e.scales[n].log,!1)}const Ct=Yt;function Ft(e,l,t,n){return null==l?j:o(l,t,e.scales[n].log,!1)}const Rt=Ft;function Ht(l,t,n,i,o){let s=_(T(l),T(t)),r=t-l,u=e(o/i*r,n);do{let e=n[u],l=i*e/r;if(l>=o&&17>=s+(5>e?L.get(e):0))return[e,l]}while(++u<n.length);return[0,0]}function Bt(e){let l,t;return[e=e.replace(/(\d+)px/,((e,n)=>(l=x((t=+n)*we))+"px")),l,t]}function Lt(e){e.show&&[e.font,e.labelFont].forEach((e=>{let l=B(e[2]*we,1);e[0]=e[0].replace(/[0-9.]+px/,l+"px"),e[1]=l}))}function It(l,t,n){const r={mode:c(l.mode,1)},u=r.mode;function f(e,l){return((3==l.distr?y(e>0?e:l.clamp(r,e,l.min,l.max,l.key)):4==l.distr?S(e,l.asinh):e)-l._min)/(l._max-l._min)}function h(e,l,t,n){let i=f(e,l);return n+t*(-1==l.dir?1-i:i)}function g(e,l,t,n){let i=f(e,l);return n+t*(-1==l.dir?i:1-i)}function v(e,l,t,n){return 0==l.ori?h(e,l,t,n):g(e,l,t,n)}r.valToPosH=h,r.valToPosV=g;let M=!1;r.status=0;const T=r.root=Me("uplot");null!=l.id&&(T.id=l.id),_e(T,l.class),l.title&&(Me("u-title",T).textContent=l.title);const P=ye("canvas"),H=r.ctx=P.getContext("2d"),L=Me("u-wrap",T),I=r.under=Me("u-under",L);L.appendChild(P);const O=r.over=Me("u-over",L),$=+c((l=K(l)).pxAlign,1),oe=it($);(l.plugins||[]).forEach((e=>{e.opts&&(l=e.opts(r,l)||l)}));const he=l.ms||.001,be=r.series=1==u?Et(l.series||[],Pl,Ul,!1):function(e,l){return e.map(((e,t)=>0==t?null:Z({},l,e)))}(l.series||[null],Vl),Se=r.axes=Et(l.axes||[],Al,Gl,!0),Te=r.scales={},ze=r.bands=l.bands||[];ze.forEach((e=>{e.fill=A(e.fill||null),e.dir=c(e.dir,-1)}));const Pe=2==u?be[1].facets[0].scale:be[0].scale,We={axes:function(){for(let e=0;Se.length>e;e++){let l=Se[e];if(!l.show||!l._show)continue;let t,n,i=l.side,o=i%2,s=l.stroke(r,e),u=0==i||3==i?-1:1;if(l.label){let e=x((l._lpos+l.labelGap*u)*we);Kt(l.labelFont[0],s,"center",2==i?le:te),H.save(),1==o?(t=n=0,H.translate(e,x(Hl+Ll/2)),H.rotate((3==i?-p:p)/2)):(t=x(Rl+Bl/2),n=e),H.fillText(l.label,t,n),H.restore()}let[a,c]=l._found;if(0==c)continue;let f=Te[l.scale],h=0==o?Bl:Ll,d=0==o?Rl:Hl,m=x(l.gap*we),g=l._splits,w=2==f.distr?g.map((e=>jt[e])):g,b=2==f.distr?jt[g[1]]-jt[g[0]]:a,_=l.ticks,k=l.border,y=_.show?x(_.size*we):0,M=l._rotate*-p/180,S=oe(l._pos*we),D=S+(y+m)*u;n=0==o?D:0,t=1==o?D:0,Kt(l.font[0],s,1==l.align?ne:2==l.align?ie:M>0?ne:0>M?ie:0==o?"center":3==i?ie:ne,M||1==o?"middle":2==i?le:te);let T=1.5*l.font[1],E=g.map((e=>oe(v(e,f,h,d)))),z=l._values;for(let e=0;z.length>e;e++){let l=z[e];if(null!=l){0==o?t=E[e]:n=E[e],l=""+l;let i=-1==l.indexOf("\n")?[l]:l.split(/\n/gm);for(let e=0;i.length>e;e++){let l=i[e];M?(H.save(),H.translate(t,n+e*T),H.rotate(M),H.fillText(l,0,0),H.restore()):H.fillText(l,t,n+e*T)}}}_.show&&tn(E,_.filter(r,w,e,c,b),o,i,S,y,B(_.width*we,3),_.stroke(r,e),_.dash,_.cap);let A=l.grid;A.show&&tn(E,A.filter(r,w,e,c,b),o,0==o?2:1,0==o?Hl:Rl,0==o?Ll:Bl,B(A.width*we,3),A.stroke(r,e),A.dash,A.cap),k.show&&tn([S],[1],0==o?1:0,0==o?1:2,1==o?Hl:Rl,1==o?Ll:Bl,B(k.width*we,3),k.stroke(r,e),k.dash,k.cap)}ti("drawAxes")},series:function(){pt>0&&(be.forEach(((e,l)=>{if(l>0&&e.show&&null==e._paths){let n=function(e){let l=z(mt-1,0,pt-1),t=z(gt+1,0,pt-1);for(;null==e[l]&&l>0;)l--;for(;null==e[t]&&pt-1>t;)t++;return[l,t]}(t[l]);e._paths=e.paths(r,l,n[0],n[1])}})),be.forEach(((e,l)=>{if(l>0&&e.show){Nt!=e.alpha&&(H.globalAlpha=Nt=e.alpha),$t(l,!1),e._paths&&Xt(l,!1);{$t(l,!0);let t=e.points.show(r,l,mt,gt),n=e.points.filter(r,l,t,e._paths?e._paths.gaps:null);(t||n)&&(e.points._paths=e.points.paths(r,l,mt,gt,n),Xt(l,!0))}null!=e._paths.labels&&function(e,l){let t=null==e._stroke?"black":e._stroke,n=null==e._fill?"white":e._fill,i=null==e._stroke?"black":e._stroke;Kt(H.font,t,"center","center"),l.forEach((e=>{let l=H.measureText(e.text),o=l.width,s=l.actualBoundingBoxDescent+l.actualBoundingBoxAscent,r=o+14,u=s+14,a=l.actualBoundingBoxAscent+7;"center"==e.align?a=u:"bottom"==e.align&&(a=-(l.actualBoundingBoxDescent+7)),console.log("text yOffAlign = "+a);let c=e.x,f=e.y+a;console.log("text (w,h) = ("+o+", "+s+")");let h=c-r/2,d=f-u/2;console.log("rect (x,y,w,h) = ("+h+", "+d+", "+r+", "+u+")"),H.fillStyle=n,H.strokeStyle=i,H.fillRect(h,d,r,u),H.strokeRect(h,d,r,u),H.fillStyle=t,H.fillText(e.text,c,f)}))}(e,e._paths.labels),1!=Nt&&(H.globalAlpha=Nt=1),ti("drawSeries",l)}})))}},Fe=(l.drawOrder||["axes","series"]).map((e=>We[e]));function Re(e){let t=Te[e];if(null==t){let n=(l.scales||G)[e]||G;if(null!=n.from)Re(n.from),Te[e]=Z({},Te[n.from],n,{key:e});else{t=Te[e]=Z({},e==Pe?ql:Kl,n),t.key=e;let l=t.time,i=t.range,o=V(i);if((e!=Pe||2==u&&!l)&&(!o||null!=i[0]&&null!=i[1]||(i={min:null==i[0]?s:{mode:1,hard:i[0],soft:i[0]},max:null==i[1]?s:{mode:1,hard:i[1],soft:i[1]}},o=!1),!o&&J(i))){let e=i;i=(l,t,n)=>null==t?j:a(t,n,e)}t.range=A(i||(l?Pt:e==Pe?3==t.distr?Ct:4==t.distr?Rt:At:3==t.distr?Yt:4==t.distr?Ft:Wt)),t.auto=A(!o&&t.auto),t.clamp=A(t.clamp||Jl),t._min=t._max=null}}}Re("x"),Re("y"),1==u&&be.forEach((e=>{Re(e.scale)})),Se.forEach((e=>{Re(e.scale)}));for(let e in l.scales)Re(e);const He=Te[Pe],Be=He.distr;let Le,Ie;0==He.ori?(_e(T,"u-hz"),Le=h,Ie=g):(_e(T,"u-vt"),Le=g,Ie=h);const Oe={};for(let e in Te){let l=Te[e];null==l.min&&null==l.max||(Oe[e]={min:l.min,max:l.max},l.min=l.max=null)}const Ge=l.tzDate||(e=>new Date(x(e/he))),je=l.fmtDate||Ne,Ve=1==he?cl(Ge):dl(Ge),Ue=ml(Ge,pl(1==he?al:hl,je)),Je=wl(Ge,xl("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",je)),qe=[],$e=r.legend=Z({},bl,l.legend),Xe=$e.show,Qe=$e.markers;let el;$e.idxs=qe,Qe.width=A(Qe.width),Qe.dash=A(Qe.dash),Qe.stroke=A(Qe.stroke),Qe.fill=A(Qe.fill);let ll,tl=[],nl=[],il=!1,ol={};if($e.live){const e=be[1]?be[1].values:null;il=null!=e,ll=il?e(r,1,0):{_:0};for(let e in ll)ol[e]="--"}if(Xe)if(el=ye("table","u-legend",T),il){let e=ye("tr","u-thead",el);for(var sl in ye("th",null,e),ll)ye("th",me,e).textContent=sl}else _e(el,"u-inline"),$e.live&&_e(el,"u-live");const rl={show:!0},gl={show:!1},_l=new Map;function kl(e,l,t){const n=_l.get(l)||{},i=ot.bind[e](r,l,t);i&&(Ye(e,l,n[e]=i),_l.set(l,n))}function vl(e,l){const t=_l.get(l)||{};for(let n in t)null!=e&&n!=e||(Ce(n,l,t[n]),delete t[n]);null==e&&_l.delete(l)}let Ml=0,Sl=0,Dl=0,Tl=0,El=0,zl=0,Rl=0,Hl=0,Bl=0,Ll=0;r.bbox={};let jl=!1,Zl=!1,Xl=!1,Ql=!1,lt=!1;function tt(e,l,t){(t||e!=r.width||l!=r.height)&&nt(e,l),sn(!1),Xl=!0,Zl=!0,Ql=lt=ot.left>=0,_n()}function nt(e,l){r.width=Ml=Dl=e,r.height=Sl=Tl=l,El=zl=0,function(){let e=!1,l=!1,t=!1,n=!1;Se.forEach((i=>{if(i.show&&i._show){let{side:o,_size:s}=i,r=o%2,u=s+(null!=i.label?i.labelSize:0);u>0&&(r?(Dl-=u,3==o?(El+=u,n=!0):t=!0):(Tl-=u,0==o?(zl+=u,e=!0):l=!0))}})),ct[0]=e,ct[1]=t,ct[2]=l,ct[3]=n,Dl-=dt[1]+dt[3],El+=dt[3],Tl-=dt[2]+dt[0],zl+=dt[0]}(),function(){let e=El+Dl,l=zl+Tl,t=El,n=zl;function i(i,o){switch(i){case 1:return e+=o,e-o;case 2:return l+=o,l-o;case 3:return t-=o,t+o;case 0:return n-=o,n+o}}Se.forEach((e=>{if(e.show&&e._show){let l=e.side;e._pos=i(l,e._size),null!=e.label&&(e._lpos=i(l,e.labelSize))}}))}();let t=r.bbox;Rl=t.left=E(El*we,.5),Hl=t.top=E(zl*we,.5),Bl=t.width=E(Dl*we,.5),Ll=t.height=E(Tl*we,.5)}r.setSize=function({width:e,height:l}){tt(e,l)};const ot=r.cursor=Z({},yl,{drag:{y:2==u}},l.cursor);{ot.idxs=qe,ot._lock=!1;let e=ot.points;e.show=A(e.show),e.size=A(e.size),e.stroke=A(e.stroke),e.width=A(e.width),e.fill=A(e.fill)}const st=r.focus=Z({},l.focus||{alpha:.3},ot.focus),rt=st.prox>=0;let ut=[null];function at(e,l){if(1==u||l>0){let l=1==u&&Te[e.scale].time,t=e.value;e.value=l?U(t)?wl(Ge,xl(t,je)):t||Je:t||Ol,e.label=e.label||(l?"Time":"Value")}if(l>0){e.width=null==e.width?1:e.width,e.paths=e.paths||St||Y,e.fillTo=A(e.fillTo||et),e.pxAlign=+c(e.pxAlign,$),e.pxRound=it(e.pxAlign),""+e.paths==""+Dt&&(e.auto=!1,e.value=(e,l)=>null==l?"--":l),e.stroke=A(e.stroke||null),e.fill=A(e.fill||null),e._stroke=e._fill=e._paths=e._focus=null;let l=Nl(e.width,1),t=e.points=Z({},{size:l,width:_(1,.2*l),stroke:e.stroke,space:2*l,paths:Tt,_stroke:null,_fill:null},e.points);t.show=A(t.show),t.filter=A(t.filter),t.fill=A(t.fill),t.stroke=A(t.stroke),t.paths=A(t.paths),t.pxAlign=e.pxAlign}if(Xe){let t=function(e,l){if(0==l&&(il||!$e.live||2==u))return j;let t=[],n=ye("tr","u-series",el,el.childNodes[l]);_e(n,e.class),e.show||_e(n,pe);let i=ye("th",null,n);if(Qe.show){let e=Me("u-marker",i);if(l>0){let t=Qe.width(r,l);t&&(e.style.border=t+"px "+Qe.dash(r,l)+" "+Qe.stroke(r,l)),e.style.background=Qe.fill(r,l)}}let o=Me(me,i);for(var s in o.textContent=e.label,l>0&&(Qe.show||(o.style.color=e.width>0?Qe.stroke(r,l):Qe.fill(r,l)),kl("click",i,(l=>{if(ot._lock)return;let t=be.indexOf(e);if((l.ctrlKey||l.metaKey)!=$e.isolate){let e=be.some(((e,l)=>l>0&&l!=t&&e.show));be.forEach(((l,n)=>{n>0&&Pn(n,e?n==t?rl:gl:rl,!0,ni.setSeries)}))}else Pn(t,{show:!e.show},!0,ni.setSeries)})),rt&&kl(ae,i,(()=>{ot._lock||Pn(be.indexOf(e),Fn,!0,ni.setSeries)}))),ll){let e=ye("td","u-value",n);e.textContent="--",t.push(e)}return[n,t]}(e,l);tl.splice(l,0,t[0]),nl.splice(l,0,t[1]),$e.values.push(null)}if(ot.show){qe.splice(l,0,null);let t=function(e,l){if(l>0){let t=ot.points.show(r,l);if(t)return _e(t,"u-cursor-pt"),_e(t,e.class),De(t,-10,-10,Dl,Tl),O.insertBefore(t,ut[l]),t}}(e,l);t&&ut.splice(l,0,t)}ti("addSeries",l)}r.addSeries=function(e,l){e=zt(e,l=null==l?be.length:l,Pl,Ul),be.splice(l,0,e),at(be[l],l)},r.delSeries=function(e){if(be.splice(e,1),Xe){$e.values.splice(e,1),nl.splice(e,1);let l=tl.splice(e,1)[0];vl(null,l.firstChild),l.remove()}ot.show&&(qe.splice(e,1),ut.length>1&&ut.splice(e,1)[0].remove()),ti("delSeries",e)};const ct=[!1,!1,!1,!1];function ft(e,l,t){let[n,i,o,s]=t,r=l%2,u=0;return 0==r&&(s||i)&&(u=0==l&&!n||2==l&&!o?x(Al.size/3):0),1==r&&(n||o)&&(u=1==l&&!i||3==l&&!s?x(Gl.size/2):0),u}const ht=r.padding=(l.padding||[ft,ft,ft,ft]).map((e=>A(c(e,ft)))),dt=r._padding=ht.map(((e,l)=>e(r,l,ct,0)));let pt,mt=null,gt=null;const xt=1==u?be[0].idxs:null;let wt,bt,_t,kt,vt,Mt,It,Ot,Gt,Nt,jt=null,Vt=!1;function Ut(e,l){if(t=null==e?[]:K(e,q),2==u){pt=0;for(let e=1;be.length>e;e++)pt+=t[e][0].length;r.data=t=e}else if(null==t[0]&&(t[0]=[]),r.data=t.slice(),jt=t[0],pt=jt.length,2==Be){t[0]=Array(pt);for(let e=0;pt>e;e++)t[0][e]=e}if(r._data=t,sn(!0),ti("setData"),!1!==l){let e=He;e.auto(r,Vt)?Jt():An(Pe,e.min,e.max),Ql=ot.left>=0,lt=!0,_n()}}function Jt(){let e,l;Vt=!0,1==u&&(pt>0?(mt=xt[0]=0,gt=xt[1]=pt-1,e=t[0][mt],l=t[0][gt],2==Be?(e=mt,l=gt):1==pt&&(3==Be?[e,l]=i(e,e,He.log,!1):4==Be?[e,l]=o(e,e,He.log,!1):He.time?l=e+x(86400/he):[e,l]=a(e,l,.1,!0))):(mt=xt[0]=e=null,gt=xt[1]=l=null)),An(Pe,e,l)}function qt(e="#0000",l,t=N,n="butt",i="#0000",o="round"){e!=wt&&(H.strokeStyle=wt=e),i!=bt&&(H.fillStyle=bt=i),l!=_t&&(H.lineWidth=_t=l),o!=vt&&(H.lineJoin=vt=o),n!=Mt&&(H.lineCap=Mt=n),t!=kt&&H.setLineDash(kt=t)}function Kt(e,l,t,n){l!=bt&&(H.fillStyle=bt=l),e!=It&&(H.font=It=e),t!=Ot&&(H.textAlign=Ot=t),n!=Gt&&(H.textBaseline=Gt=n)}function Zt(e,l,t,n,i=0){if(e.auto(r,Vt)&&(null==l||null==l.min)){let l=c(mt,0),o=c(gt,n.length-1),s=null==t.min?3==e.distr?function(e,l,t){let n=D,i=-D;for(let o=l;t>=o;o++)e[o]>0&&(n=b(n,e[o]),i=_(i,e[o]));return[n==D?1:n,i==-D?10:i]}(n,l,o):function(e,l,t,n){let i=D,o=-D;if(1==n)i=e[l],o=e[t];else if(-1==n)i=e[t],o=e[l];else for(let n=l;t>=n;n++)null!=e[n]&&(i=b(i,e[n]),o=_(o,e[n]));return[i,o]}(n,l,o,i):[t.min,t.max];e.min=b(e.min,t.min=s[0]),e.max=_(e.max,t.max=s[1])}}function $t(e,l){let t=l?be[e].points:be[e];t._stroke=t.stroke(r,e),t._fill=t.fill(r,e)}function Xt(e,l){let n=l?be[e].points:be[e],i=n._stroke,o=n._fill,{stroke:s,fill:u,clip:a,flags:f}=n._paths,h=null,d=B(n.width*we,3),p=d%2/2;l&&null==o&&(o=d>0?"#fff":i);let m=1==n.pxAlign;if(m&&H.translate(p,p),!l){let e=Rl,l=Hl,t=Bl,i=Ll,o=d*we/2;0==n.min&&(i+=o),0==n.max&&(l-=o,i+=o),h=new Path2D,h.rect(e,l,t,i)}l?Qt(i,d,n.dash,n.cap,o,s,u,f,a):function(e,l,n,i,o,s,u,a,f,h,d){let p=!1;ze.forEach(((m,g)=>{if(m.series[0]==e){let e,x=be[m.series[1]],w=t[m.series[1]],b=(x._paths||G).band;V(b)&&(b=1==m.dir?b[0]:b[1]);let _=null;x.show&&b&&function(e,l,t){for(l=c(l,0),t=c(t,e.length-1);t>=l;){if(null!=e[l])return!0;l++}return!1}(w,mt,gt)?(_=m.fill(r,g)||s,e=x._paths.clip):b=null,Qt(l,n,i,o,_,u,a,f,h,d,e,b),p=!0}})),p||Qt(l,n,i,o,s,u,a,f,h,d)}(e,i,d,n.dash,n.cap,o,s,u,f,h,a),m&&H.translate(-p,-p)}function Qt(e,l,t,n,i,o,s,r,u,a,c,f){qt(e,l,t,n,i),(u||a||f)&&(H.save(),u&&H.clip(u),a&&H.clip(a)),f?3==(3&r)?(H.clip(f),c&&H.clip(c),ln(i,s),en(e,o,l)):2&r?(ln(i,s),H.clip(f),en(e,o,l)):1&r&&(H.save(),H.clip(f),c&&H.clip(c),ln(i,s),H.restore(),en(e,o,l)):(ln(i,s),en(e,o,l)),(u||a||f)&&H.restore()}function en(e,l,t){t>0&&(l instanceof Map?l.forEach(((e,l)=>{H.strokeStyle=wt=l,H.stroke(e)})):null!=l&&e&&H.stroke(l))}function ln(e,l){l instanceof Map?l.forEach(((e,l)=>{H.fillStyle=bt=l,H.fill(e)})):null!=l&&e&&H.fill(l)}function tn(e,l,t,n,i,o,s,r,u,a){let c=s%2/2;1==$&&H.translate(c,c),qt(r,s,u,a,r),H.beginPath();let f,h,d,p,m=i+(0==n||3==n?-o:o);0==t?(h=i,p=m):(f=i,d=m);for(let n=0;e.length>n;n++)null!=l[n]&&(0==t?f=d=e[n]:h=p=e[n],H.moveTo(f,h),H.lineTo(d,p));H.stroke(),1==$&&H.translate(-c,-c)}function nn(e){let l=!0;return Se.forEach(((t,n)=>{if(!t.show)return;let i=Te[t.scale];if(null==i.min)return void(t._show&&(l=!1,t._show=!1,sn(!1)));t._show||(l=!1,t._show=!0,sn(!1));let o=t.side,s=o%2,{min:u,max:a}=i,[c,f]=function(e,l,t,n){let i,o=Se[e];if(n>0){let s=o._space=o.space(r,e,l,t,n);i=Ht(l,t,o._incrs=o.incrs(r,e,l,t,n,s),n,s)}else i=[0,0];return o._found=i}(n,u,a,0==s?Dl:Tl);if(0==f)return;let h=t._splits=t.splits(r,n,u,a,c,f,2==i.distr),d=2==i.distr?h.map((e=>jt[e])):h,p=2==i.distr?jt[h[1]]-jt[h[0]]:c,m=t._values=t.values(r,t.filter(r,d,n,f,p),n,f,p);t._rotate=2==o?t.rotate(r,m,n,f):0;let g=t._size;t._size=w(t.size(r,m,n,e)),null!=g&&t._size!=g&&(l=!1)})),l}function on(e){let l=!0;return ht.forEach(((t,n)=>{let i=t(r,n,ct,e);i!=dt[n]&&(l=!1),dt[n]=i})),l}function sn(e){be.forEach(((l,t)=>{t>0&&(l._paths=null,e&&(1==u?(l.min=null,l.max=null):l.facets.forEach((e=>{e.min=null,e.max=null}))))}))}r.setData=Ut;let rn,un,an,cn,fn,hn,dn,pn,mn,gn,xn,wn,bn=!1;function _n(){bn||(X(kn),bn=!0)}function kn(){jl&&(function(){let l=K(Te,q);for(let e in l){let t=l[e],n=Oe[e];if(null!=n&&null!=n.min)Z(t,n),e==Pe&&sn(!0);else if(e!=Pe||2==u)if(0==pt&&null==t.from){let l=t.range(r,null,null,e);t.min=l[0],t.max=l[1]}else t.min=D,t.max=-D}if(pt>0){be.forEach(((n,i)=>{if(1==u){let o=n.scale,s=l[o],u=Oe[o];if(0==i){let l=s.range(r,s.min,s.max,o);s.min=l[0],s.max=l[1],mt=e(s.min,t[0]),gt=e(s.max,t[0]),s.min>t[0][mt]&&mt++,t[0][gt]>s.max&&gt--,n.min=jt[mt],n.max=jt[gt]}else n.show&&n.auto&&Zt(s,u,n,t[i],n.sorted);n.idxs[0]=mt,n.idxs[1]=gt}else if(i>0&&n.show&&n.auto){let[e,o]=n.facets,s=e.scale,r=o.scale,[u,a]=t[i];Zt(l[s],Oe[s],e,u,e.sorted),Zt(l[r],Oe[r],o,a,o.sorted),n.min=o.min,n.max=o.max}}));for(let e in l){let t=l[e],n=Oe[e];if(null==t.from&&(null==n||null==n.min)){let l=t.range(r,t.min==D?null:t.min,t.max==-D?null:t.max,e);t.min=l[0],t.max=l[1]}}}for(let e in l){let t=l[e];if(null!=t.from){let n=l[t.from];if(null==n.min)t.min=t.max=null;else{let l=t.range(r,n.min,n.max,e);t.min=l[0],t.max=l[1]}}}let n={},i=!1;for(let e in l){let t=l[e],o=Te[e];if(o.min!=t.min||o.max!=t.max){o.min=t.min,o.max=t.max;let l=o.distr;o._min=3==l?y(o.min):4==l?S(o.min,o.asinh):o.min,o._max=3==l?y(o.max):4==l?S(o.max,o.asinh):o.max,n[e]=i=!0}}if(i){be.forEach(((e,l)=>{2==u?l>0&&n.y&&(e._paths=null):n[e.scale]&&(e._paths=null)}));for(let e in n)Xl=!0,ti("setScale",e);ot.show&&(Ql=lt=ot.left>=0)}for(let e in Oe)Oe[e]=null}(),jl=!1),Xl&&(function(){let e=!1,l=0;for(;!e;){l++;let t=nn(l),n=on(l);e=3==l||t&&n,e||(nt(r.width,r.height),Zl=!0)}}(),Xl=!1),Zl&&(ve(I,ne,El),ve(I,le,zl),ve(I,Q,Dl),ve(I,ee,Tl),ve(O,ne,El),ve(O,le,zl),ve(O,Q,Dl),ve(O,ee,Tl),ve(L,Q,Ml),ve(L,ee,Sl),P.width=x(Ml*we),P.height=x(Sl*we),Se.forEach((({_el:e,_show:l,_size:t,_pos:n,side:i})=>{if(null!=e)if(l){let l=i%2==1;ve(e,l?"left":"top",n-(3===i||0===i?t:0)),ve(e,l?"width":"height",t),ve(e,l?"top":"left",l?zl:El),ve(e,l?"height":"width",l?Tl:Dl),ke(e,pe)}else _e(e,pe)})),wt=bt=_t=vt=Mt=It=Ot=Gt=kt=null,Nt=1,Vn(!0),ti("setSize"),Zl=!1),Ml>0&&Sl>0&&(H.clearRect(0,0,P.width,P.height),ti("drawClear"),Fe.forEach((e=>e())),ti("draw")),ot.show&&Ql&&(Nn(null,!0,!1),Ql=!1),M||(M=!0,r.status=1,ti("ready")),Vt=!1,bn=!1}function vn(l,n){let i=Te[l];if(null==i.from){if(0==pt){let e=i.range(r,n.min,n.max,l);n.min=e[0],n.max=e[1]}if(n.min>n.max){let e=n.min;n.min=n.max,n.max=e}if(pt>1&&null!=n.min&&null!=n.max&&1e-16>n.max-n.min)return;l==Pe&&2==i.distr&&pt>0&&(n.min=e(n.min,t[0]),n.max=e(n.max,t[0]),n.min==n.max&&n.max++),Oe[l]=n,jl=!0,_n()}}r.redraw=(e,l)=>{Xl=l||!1,!1!==e?An(Pe,He.min,He.max):_n()},r.setScale=vn;let yn=!1;const Mn=ot.drag;let Sn=Mn.x,Dn=Mn.y;ot.show&&(ot.x&&(rn=Me("u-cursor-x",O)),ot.y&&(un=Me("u-cursor-y",O)),0==He.ori?(an=rn,cn=un):(an=un,cn=rn),xn=ot.left,wn=ot.top);const Tn=r.select=Z({show:!0,over:!0,left:0,width:0,top:0,height:0},l.select),En=Tn.show?Me("u-select",Tn.over?O:I):null;function zn(e,l){if(Tn.show){for(let l in e)ve(En,l,Tn[l]=e[l]);!1!==l&&ti("setSelect")}}function An(e,l,t){vn(e,{min:l,max:t})}function Pn(e,l,t,n){let i=be[e];null!=l.focus&&function(e){if(e!=Cn){let l=null==e,t=1!=st.alpha;be.forEach(((n,i)=>{let o=l||0==i||i==e;n._focus=l?null:o,t&&function(e,l){be[e].alpha=l,ot.show&&ut[e]&&(ut[e].style.opacity=l),Xe&&tl[e]&&(tl[e].style.opacity=l)}(i,o?1:st.alpha)})),Cn=e,t&&_n()}}(e),null!=l.show&&(i.show=l.show,function(e){let l=Xe?tl[e]:null;be[e].show?l&&ke(l,pe):(l&&_e(l,pe),ut.length>1&&De(ut[e],-10,-10,Dl,Tl))}(e),An(2==u?i.facets[1].scale:i.scale,null,null),_n()),!1!==t&&ti("setSeries",e,l),n&&si("setSeries",r,e,l)}let Wn,Yn,Cn;r.setSelect=zn,r.setSeries=Pn,r.addBand=function(e,l){e.fill=A(e.fill||null),e.dir=c(e.dir,-1),ze.splice(l=null==l?ze.length:l,0,e)},r.setBand=function(e,l){Z(ze[e],l)},r.delBand=function(e){null==e?ze.length=0:ze.splice(e,1)};const Fn={focus:!0};function Rn(e,l,t){let n=Te[l];t&&(e=e/we-(1==n.ori?zl:El));let i=Dl;1==n.ori&&(i=Tl,e=i-e),-1==n.dir&&(e=i-e);let o=n._min,s=o+e/i*(n._max-o),r=n.distr;return 3==r?k(10,s):4==r?((e,l=1)=>d.sinh(e)*l)(s,n.asinh):s}function Hn(e,l){ve(En,ne,Tn.left=e),ve(En,Q,Tn.width=l)}function Bn(e,l){ve(En,le,Tn.top=e),ve(En,ee,Tn.height=l)}Xe&&rt&&Ye(ce,el,(()=>{ot._lock||null!=Cn&&Pn(null,Fn,!0,ni.setSeries)})),r.valToIdx=l=>e(l,t[0]),r.posToIdx=function(l,n){return e(Rn(l,Pe,n),t[0],mt,gt)},r.posToVal=Rn,r.valToPos=(e,l,t)=>0==Te[l].ori?h(e,Te[l],t?Bl:Dl,t?Rl:0):g(e,Te[l],t?Ll:Tl,t?Hl:0),r.batch=function(e){e(r),_n()},r.setCursor=(e,l,t)=>{xn=e.left,wn=e.top,Nn(null,l,t)};let Ln=0==He.ori?Hn:Bn,In=1==He.ori?Hn:Bn;function On(e,l){if(null!=e){let l=e.idx;$e.idx=l,be.forEach(((e,t)=>{(t>0||!il)&&Gn(t,l)}))}Xe&&$e.live&&function(){if(Xe&&$e.live)for(let e=2==u?1:0;be.length>e;e++){if(0==e&&il)continue;let l=$e.values[e],t=0;for(let n in l)nl[e][t++].firstChild.nodeValue=l[n]}}(),lt=!1,!1!==l&&ti("setLegend")}function Gn(e,l){let n;if(null==l)n=ol;else{let i=be[e],o=0==e&&2==Be?jt:t[e];n=il?i.values(r,e,l):{_:i.value(r,o[l],e,l)}}$e.values[e]=n}function Nn(l,n,i){let o;mn=xn,gn=wn,[xn,wn]=ot.move(r,xn,wn),ot.show&&(an&&De(an,x(xn),0,Dl,Tl),cn&&De(cn,0,x(wn),Dl,Tl)),Wn=D;let s=0==He.ori?Dl:Tl,a=1==He.ori?Dl:Tl;if(0>xn||0==pt||mt>gt){o=null;for(let e=0;be.length>e;e++)e>0&&ut.length>1&&De(ut[e],-10,-10,Dl,Tl);if(rt&&Pn(null,Fn,!0,null==l&&ni.setSeries),$e.live){qe.fill(null),lt=!0;for(let e=0;be.length>e;e++)$e.values[e]=ol}}else{let l,n,i;1==u&&(l=0==He.ori?xn:wn,n=Rn(l,Pe),o=e(n,t[0],mt,gt),i=R(Le(t[0][o],He,s,0),.5));for(let e=2==u?1:0;be.length>e;e++){let l=be[e],c=qe[e],f=1==u?t[e][c]:t[e][1][c],h=ot.dataIdx(r,e,o,n),d=1==u?t[e][h]:t[e][1][h];lt=lt||d!=f||h!=c,qe[e]=h;let p=h==o?i:R(Le(1==u?t[0][h]:t[e][0][h],He,s,0),.5);if(e>0&&l.show){let t,n,i=null==d?-10:R(Ie(d,1==u?Te[l.scale]:Te[l.facets[1].scale],a,0),.5);if(i>0&&1==u){let l=m(i-wn);l>Wn||(Wn=l,Yn=e)}if(0==He.ori?(t=p,n=i):(t=i,n=p),lt&&ut.length>1){Ee(ut[e],ot.points.fill(r,e),ot.points.stroke(r,e));let l,i,o,s,u=!0,a=ot.points.bbox;if(null!=a){u=!1;let t=a(r,e);o=t.left,s=t.top,l=t.width,i=t.height}else o=t,s=n,l=i=ot.points.size(r,e);Ae(ut[e],l,i,u),De(ut[e],o,s,Dl,Tl)}}if($e.live){if(!lt||0==e&&il)continue;Gn(e,h)}}}if(ot.idx=o,ot.left=xn,ot.top=wn,lt&&($e.idx=o,On()),Tn.show&&yn)if(null!=l){let[e,t]=ni.scales,[n,i]=ni.match,[o,r]=l.cursor.sync.scales,u=l.cursor.drag;if(Sn=u._x,Dn=u._y,Sn||Dn){let u,c,f,h,d,{left:p,top:g,width:x,height:w}=l.select,_=l.scales[e].ori,k=l.posToVal,v=null!=e&&n(e,o),y=null!=t&&i(t,r);v?(0==_?(u=p,c=x):(u=g,c=w),f=Te[e],h=Le(k(u,o),f,s,0),d=Le(k(u+c,o),f,s,0),Ln(b(h,d),m(d-h))):Ln(0,s),y?(1==_?(u=p,c=x):(u=g,c=w),f=Te[t],h=Ie(k(u,r),f,a,0),d=Ie(k(u+c,r),f,a,0),In(b(h,d),m(d-h))):In(0,a)}else Kn()}else{let e=m(mn-fn),l=m(gn-hn);if(1==He.ori){let t=e;e=l,l=t}Sn=Mn.x&&e>=Mn.dist,Dn=Mn.y&&l>=Mn.dist;let t,n,i=Mn.uni;null!=i?Sn&&Dn&&(Sn=e>=i,Dn=l>=i,Sn||Dn||(l>e?Dn=!0:Sn=!0)):Mn.x&&Mn.y&&(Sn||Dn)&&(Sn=Dn=!0),Sn&&(0==He.ori?(t=dn,n=xn):(t=pn,n=wn),Ln(b(t,n),m(n-t)),Dn||In(0,a)),Dn&&(1==He.ori?(t=dn,n=xn):(t=pn,n=wn),In(b(t,n),m(n-t)),Sn||Ln(0,s)),Sn||Dn||(Ln(0,0),In(0,0))}if(Mn._x=Sn,Mn._y=Dn,null==l){if(i){if(null!=ii){let[e,l]=ni.scales;ni.values[0]=null!=e?Rn(0==He.ori?xn:wn,e):null,ni.values[1]=null!=l?Rn(1==He.ori?xn:wn,l):null}si(se,r,xn,wn,Dl,Tl,o)}if(rt){let e=i&&ni.setSeries,l=st.prox;null==Cn?Wn>l||Pn(Yn,Fn,!0,e):Wn>l?Pn(null,Fn,!0,e):Yn!=Cn&&Pn(Yn,Fn,!0,e)}}M&&!1!==n&&ti("setCursor")}r.setLegend=On;let jn=null;function Vn(e){!0===e?jn=null:(jn=O.getBoundingClientRect(),ti("syncRect",jn))}function Un(e,l,t,n,i,o){ot._lock||(Jn(e,l,t,n,i,o,0,!1,null!=e),null!=e?Nn(null,!0,!0):Nn(l,!0,!1))}function Jn(e,l,t,n,i,o,s,u,a){if(null==jn&&Vn(!1),null!=e)t=e.clientX-jn.left,n=e.clientY-jn.top;else{if(0>t||0>n)return xn=-10,void(wn=-10);let[e,s]=ni.scales,r=l.cursor.sync,[u,a]=r.values,[c,f]=r.scales,[h,d]=ni.match,p=l.axes[0].side%2==1,m=0==He.ori?Dl:Tl,g=1==He.ori?Dl:Tl,x=p?o:i,w=p?i:o,b=p?n:t,_=p?t:n;if(t=null!=c?h(e,c)?v(u,Te[e],m,0):-10:m*(b/x),n=null!=f?d(s,f)?v(a,Te[s],g,0):-10:g*(_/w),1==He.ori){let e=t;t=n,n=e}}a&&(t>1&&Dl-1>t||(t=E(t,Dl)),n>1&&Tl-1>n||(n=E(n,Tl))),u?(fn=t,hn=n,[dn,pn]=ot.move(r,t,n)):(xn=t,wn=n)}const qn={width:0,height:0};function Kn(){zn(qn,!1)}function Zn(e,l,t,n,i,o){yn=!0,Sn=Dn=Mn._x=Mn._y=!1,Jn(e,l,t,n,i,o,0,!0,!1),null!=e&&(kl(ue,ge,$n),si(re,r,dn,pn,Dl,Tl,null))}function $n(e,l,t,n,i,o){yn=Mn._x=Mn._y=!1,Jn(e,l,t,n,i,o,0,!1,!0);let{left:s,top:u,width:a,height:c}=Tn,f=a>0||c>0;if(f&&zn(Tn),Mn.setScale&&f){let e=s,l=a,t=u,n=c;if(1==He.ori&&(e=u,l=c,t=s,n=a),Sn&&An(Pe,Rn(e,Pe),Rn(e+l,Pe)),Dn)for(let e in Te){let l=Te[e];e!=Pe&&null==l.from&&l.min!=D&&An(e,Rn(t+n,e),Rn(t,e))}Kn()}else ot.lock&&(ot._lock=!ot._lock,ot._lock||Nn(null,!0,!1));null!=e&&(vl(ue,ge),si(ue,r,xn,wn,Dl,Tl,null))}function Xn(e){Jt(),Kn(),null!=e&&si(fe,r,xn,wn,Dl,Tl,null)}function Qn(){Se.forEach(Lt),tt(r.width,r.height,!0)}Ye(de,xe,Qn);const ei={};ei.mousedown=Zn,ei.mousemove=Un,ei.mouseup=$n,ei.dblclick=Xn,ei.setSeries=(e,l,t,n)=>{Pn(t,n,!0,!1)},ot.show&&(kl(re,O,Zn),kl(se,O,Un),kl(ae,O,Vn),kl(ce,O,(function(){if(!ot._lock){let e=yn;if(yn){let e,l,t=!0,n=!0,i=10;0==He.ori?(e=Sn,l=Dn):(e=Dn,l=Sn),e&&l&&(t=i>=xn||xn>=Dl-i,n=i>=wn||wn>=Tl-i),e&&t&&(xn=dn>xn?0:Dl),l&&n&&(wn=pn>wn?0:Tl),Nn(null,!0,!0),yn=!1}xn=-10,wn=-10,Nn(null,!0,!0),e&&(yn=e)}})),kl(fe,O,Xn),yt.add(r),r.syncRect=Vn);const li=r.hooks=l.hooks||{};function ti(e,l,t){e in li&&li[e].forEach((e=>{e.call(null,r,l,t)}))}(l.plugins||[]).forEach((e=>{for(let l in e.hooks)li[l]=(li[l]||[]).concat(e.hooks[l])}));const ni=Z({key:null,setSeries:!1,filters:{pub:C,sub:C},scales:[Pe,be[1]?be[1].scale:null],match:[F,F],values:[null,null]},ot.sync);ot.sync=ni;const ii=ni.key,oi=$l(ii);function si(e,l,t,n,i,o,s){ni.filters.pub(e,l,t,n,i,o,s)&&oi.pub(e,l,t,n,i,o,s)}function ri(){ti("init",l,t),Ut(t||l.data,!1),Oe[Pe]?vn(Pe,Oe[Pe]):Jt(),tt(l.width,l.height),Nn(null,!0,!1),zn(Tn,!1)}return oi.sub(r),r.pub=function(e,l,t,n,i,o,s){ni.filters.sub(e,l,t,n,i,o,s)&&ei[e](null,l,t,n,i,o,s)},r.destroy=function(){oi.unsub(r),yt.delete(r),_l.clear(),Ce(de,xe,Qn),T.remove(),ti("destroy")},be.forEach(at),Se.forEach((function(e,l){if(e._show=e.show,e.show){let t=e.side%2,n=Te[e.scale];null==n&&(e.scale=t?be[1].scale:Pe,n=Te[e.scale]);let i=n.time;e.size=A(e.size),e.space=A(e.space),e.rotate=A(e.rotate),e.incrs=A(e.incrs||(2==n.distr?Ke:i?1==he?ul:fl:Ze)),e.splits=A(e.splits||(i&&1==n.distr?Ve:3==n.distr?Cl:4==n.distr?Fl:Yl)),e.stroke=A(e.stroke),e.grid.stroke=A(e.grid.stroke),e.ticks.stroke=A(e.ticks.stroke),e.border.stroke=A(e.border.stroke);let o=e.values;e.values=V(o)&&!V(o[0])?A(o):i?V(o)?ml(Ge,pl(o,je)):U(o)?function(e,l){let t=Ne(l);return(l,n)=>n.map((l=>t(e(l))))}(Ge,o):o||Ue:o||Wl,e.filter=A(e.filter||(3>n.distr?W:Il)),e.font=Bt(e.font),e.labelFont=Bt(e.labelFont),e._size=e.size(r,null,l,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(ct[l]=!0,e._el=Me("u-axis",L))}})),n?n instanceof HTMLElement?(n.appendChild(T),ri()):n(r,ri):ri(),r}It.assign=Z,It.fmtNum=h,It.rangeNum=a,It.rangeLog=i,It.rangeAsinh=o,It.orient=Xl,It.join=function(e,l){let t=new Set;for(let l=0;e.length>l;l++){let n=e[l][0],i=n.length;for(let e=0;i>e;e++)t.add(n[e])}let n=[Array.from(t).sort(((e,l)=>e-l))],i=n[0].length,o=new Map;for(let e=0;i>e;e++)o.set(n[0][e],e);for(let t=0;e.length>t;t++){let s=e[t],r=s[0];for(let e=1;s.length>e;e++){let u=s[e],a=Array(i).fill(void 0),c=l?l[t][e]:1,f=[];for(let e=0;u.length>e;e++){let l=u[e],t=o.get(r[e]);null===l?0!=c&&(a[t]=l,2==c&&f.push(t)):a[t]=l}$(a,f,i),n.push(a)}}return n},It.fmtDate=Ne,It.tzDate=function(e,l){let t;return"UTC"==l||"Etc/UTC"==l?t=new Date(+e+6e4*e.getTimezoneOffset()):l==je?t=e:(t=new Date(e.toLocaleString("en-US",{timeZone:l})),t.setMilliseconds(e.getMilliseconds())),t},It.sync=$l;{It.addGap=nt,It.clipGaps=tt;let e=It.paths={points:gt};e.linear=_t,e.stepped=function(e){const t=c(e.align,1),n=c(e.ascDesc,!1);return(e,i,o,s)=>Xl(e,i,((r,u,a,c,f,h,d,p,m,g,x)=>{let w=r.pxRound,b=0==c.ori?ut:at;const _={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,labels:null,flags:1},k=_.stroke,v=1*c.dir*(0==c.ori?1:-1);o=l(a,o,s,1),s=l(a,o,s,-1);let y=[],M=!1,S=w(d(a[1==v?o:s],f,x,m)),D=w(h(u[1==v?o:s],c,g,p)),T=D;b(k,D,S);for(let e=1==v?o:s;e>=o&&s>=e;e+=v){let l=a[e],n=w(h(u[e],c,g,p));if(null==l){null===l&&(nt(y,T,n),M=!0);continue}let i=w(d(l,f,x,m));M&&(nt(y,T,n),M=!1),1==t?b(k,n,S):b(k,T,i),b(k,n,i),S=i,T=n}let[E,z]=Ql(e,i);if(null!=r.fill||0!=E){let l=_.fill=new Path2D(k),t=w(d(r.fillTo(e,i,r.min,r.max,E),f,x,m));b(l,T,t),b(l,D,t)}_.gaps=y=r.gaps(e,i,o,s,y);let A=r.width*we/2,P=n||1==t?A:-A,W=n||-1==t?-A:A;return y.forEach((e=>{e[0]+=P,e[1]+=W})),r.spanGaps||(_.clip=tt(y,c.ori,p,m,g,x)),0!=z&&(_.band=2==z?[lt(e,i,o,s,k,-1),lt(e,i,o,s,k,1)]:lt(e,i,o,s,k,z)),_}))},e.bars=function(e){const l=c((e=e||G).size,[.6,D,1]),t=e.align||0,n=(e.gap||0)*we,i=c(e.radius,0),o=1-l[0],s=c(l[1],D)*we,r=c(l[2],1)*we,u=c(e.disp,G),a=c(e.each,(()=>{})),{fill:f,stroke:h}=u;return(e,l,d,p)=>Xl(e,l,((x,w,k,v,y,M,S,D,T,E,z)=>{let A=x.pxRound;const P=v.dir*(0==v.ori?1:-1),W=y.dir*(1==y.ori?1:-1);let Y,C,F=0==v.ori?ct:ft,R=0==v.ori?a:(e,l,t,n,i,o,s)=>{a(e,l,t,i,n,s,o)},[H,B]=Ql(e,l),L=3==y.distr?1==H?y.max:y.min:0,I=S(L,y,z,T),O=A(x.width*we),G=!1,N=null,j=null,V=null,U=null;null==f||0!=O&&null==h||(G=!0,N=f.values(e,l,d,p),j=new Map,new Set(N).forEach((e=>{null!=e&&j.set(e,new Path2D)})),O>0&&(V=h.values(e,l,d,p),U=new Map,new Set(V).forEach((e=>{null!=e&&U.set(e,new Path2D)}))));let{x0:J,size:q}=u;if(null!=J&&null!=q){w=J.values(e,l,d,p),2==J.unit&&(w=w.map((l=>e.posToVal(D+l*E,v.key,!0))));let t=q.values(e,l,d,p);C=2==q.unit?t[0]*E:M(t[0],v,E,D)-M(0,v,E,D),C=A(C-O),Y=1==P?-O/2:C+O/2}else{let e=E;if(w.length>1){let l=null;for(let t=0,n=1/0;w.length>t;t++)if(void 0!==k[t]){if(null!=l){let i=m(w[t]-w[l]);n>i&&(n=i,e=m(M(w[t],v,E,D)-M(w[l],v,E,D)))}l=t}}C=A(b(s,_(r,e-e*o))-O-n),Y=(0==t?C/2:t==P?0:C)-t*P*n/2}const K={stroke:null,fill:null,clip:null,band:null,gaps:null,labels:null,flags:3};let Z;0!=B&&(K.band=new Path2D,Z=A(S(1==B?y.max:y.min,y,z,T)));const $=G?null:new Path2D,X=K.band;let{y0:Q,y1:ee}=u,le=null;null!=Q&&null!=ee&&(k=ee.values(e,l,d,p),le=Q.values(e,l,d,p));for(let t=1==P?d:p;t>=d&&p>=t;t+=P){let n=k[t],o=M(2!=v.distr||null!=u?w[t]:t,v,E,D),s=S(c(n,L),y,z,T);null!=le&&null!=n&&(I=S(le[t],y,z,T));let r=A(o-Y),a=A(_(s,I)),f=A(b(s,I)),h=a-f,d=i*C;null!=n&&(G?(O>0&&null!=V[t]&&F(U.get(V[t]),r,f+g(O/2),C,_(0,h-O),d),null!=N[t]&&F(j.get(N[t]),r,f+g(O/2),C,_(0,h-O),d)):F($,r,f+g(O/2),C,_(0,h-O),d),R(e,l,t,r-O/2,f,C+O,h)),0!=B&&(W*B==1?(a=f,f=Z):(f=a,a=Z),h=a-f,F(X,r-O/2,f,C+O,_(0,h),0))}return O>0&&(K.stroke=G?U:$),K.fill=G?j:$,K}))},e.spline=function(){return function(e){return(t,n,i,o)=>Xl(t,n,((s,r,u,a,c,f,h,d,p,m,g)=>{let x,w,b,_=s.pxRound;0==a.ori?(x=st,b=ut,w=pt):(x=rt,b=at,w=mt);const k=1*a.dir*(0==a.ori?1:-1);i=l(u,i,o,1),o=l(u,i,o,-1);let v=[],y=!1,M=_(f(r[1==k?i:o],a,m,d)),S=M,D=[],T=[];for(let e=1==k?i:o;e>=i&&o>=e;e+=k){let l=u[e],t=f(r[e],a,m,d);null!=l?(y&&(nt(v,S,t),y=!1),D.push(S=t),T.push(h(u[e],c,g,p))):null===l&&(nt(v,S,t),y=!0)}const E={stroke:e(D,T,x,b,w,_),fill:null,clip:null,band:null,gaps:null,labels:null,flags:1},z=E.stroke;let[A,P]=Ql(t,n);if(null!=s.fill||0!=A){let e=E.fill=new Path2D(z),l=_(h(s.fillTo(t,n,s.min,s.max,A),c,g,p));b(e,S,l),b(e,M,l)}return E.gaps=v=s.gaps(t,n,i,o,v),s.spanGaps||(E.clip=tt(v,a.ori,d,p,m,g)),0!=P&&(E.band=2==P?[lt(t,n,i,o,z,-1),lt(t,n,i,o,z,1)]:lt(t,n,i,o,z,P)),E}))}(kt)},e.eventMarkers=vt}return It}();
